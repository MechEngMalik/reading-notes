# WRRC and Java

## The HTTP Request Lifecycle

## 1-Local Processing

* The "scheme"/protocol (we've decided on HTTP), host (www.example.com), and optional port number, resource path, and query strings supplied in the form are all extracted by your browser.
* Now that the browser has the request's intended hostname, it must resolve an IP address1. After then, the browser will check its own cache of recently requested URLs, the operating system's cache of recent requests, your router's cache, and your DNS cache.

## 2-Resolve an IP address

* Resolving an IP address from a "DNS server"2 is a multi-step process with failovers if the first request fails to yield an address.
* If the cache lookup fails (as we anticipate it would), your browser sends a UDP3 DNS request.
* In the DNS request's header, you'll find the preset IP for your DNS server as well as your return IP.
* The "Question" element of the request contains the hostname for which you are attempting to resolve an IP. UDP is a lightweight protocol, however it comes with the drawback of no delivery assurances and no acknowledgement other than the sending and receiving of a response.
* Your request will now have to pass through a number of network devices before reaching its destination DNS server.
* When a packet arrives at a piece of networking equipment, the device consults its routing table to see which other devices it is linked to are most likely on the shortest path to the destination.
4
* When your request reaches your DNS server, it searches for the address associated with the requested hostname. It sends a response if it finds one. If the DNS server you've chosen is unable to identify the specified hostname, it will forward the request to another DNS server it has been configured to defer to.
* Given that this is all still a prelude, we'll presume the request was successful. The asking client now has a target IP if the response arrives (remember, there's no assurance with UDP!). It will have also received a piece of data as part of the response that will tell it how long the returned answer can be cached.

## Create a TCP connection

* TCP provides delivery and ordered data transmission, which is one of the fundamental differences between TCP and UDP.
* These and more guarantees may be found on Wikipedia and are worth reading about, but the most important thing to remember is that TCP connections are established through a three-way handshake.
* The active open is started by the client delivering a SYN7 "control"8 packet to the server.
* The server answers with a SYN-ACK9 message that includes an acknowledgement number for the initial message, which is always x+1, as well as a new sequence number for the response, which is a random number y.
* In the third phase, the client sends an ACK10 message to the server with a sequence number of x+1, which should match the acknowledgment number of the SYN-ACK message and ensure that our data is delivered reliably. Because it is acknowledging the SYN-ACK, the ACK message's acknowledgment number is set to one higher than the received sequence number, or y+1.

## Make an HTTP Request

* A "request line," a request header, and a body make up the request.
* Once the HTTP request is submitted, it follows a similar routing mechanism to the one described before, with the exception that the server can ensure it receives the entire request in the correct order by using TCP's magic sequence number capabilities.
* An HTTP response is generated by the server when it receives the request, analyses it, and locates the resource requested.
* The server responds to the request after the response has been created. The client receives the first data packet at the TCP layer, with the HTTP response header in the first byte.

## Dismantling and Cleaning

* The client transmits a TCP FIN packet once the response has been fully delivered, to which the server responds with an ACK, and then sends its own FIN, to which the client responds with its own ACK signal.
* Your browser starts analyzing the information it has received at this moment. When an image, data, or other media file is eaten by a web application, a variety of things can happen.
